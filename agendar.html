<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendar Consulta</title>
    <link rel="stylesheet" href="css/agendar.css">
</head>
<body>
    <div class="container">
        <section class="service-selector">
            <label>Selecione o tipo:</label>
            <select class="service-dropdown">
                <option selected>Consulta</option>
                <option>Vacina</option>
                <option>Banho</option>
                <option>Tosa</option>
            </select>
        </section>

        <section class="date-selector">
            <p>Escolha a melhor data para a sua consulta</p>
            
            <div class="calendar">
                <div class="calendar-header">
                    <button class="nav-btn">&lt;</button>
                    <div class="current-month">
                        <select class="month-select">
                            <option value="0">Janeiro</option>
                            <option value="1">Fevereiro</option>
                            <option value="2">Março</option>
                            <option value="3">Abril</option>
                            <option value="4">Maio</option>
                            <option value="5">Junho</option>
                            <option value="6">Julho</option>
                            <option value="7">Agosto</option>
                            <option value="8">Setembro</option>
                            <option value="9">Outubro</option>
                            <option value="10">Novembro</option>
                            <option value="11" selected>Dezembro</option>
                        </select>
                        <select class="year-select">
                            <option>2024</option>
                            <option>2025</option>
                            <option>2026</option>
                            <option>2027</option>
                            <option>2028</option>
                        </select>
                    </div>
                    <button class="nav-btn">&gt;</button>
                </div>

                <div class="weekdays">
                    <span>Dom</span>
                    <span>Seg</span>
                    <span>Ter</span>
                    <span>Qua</span>
                    <span>Qui</span>
                    <span>Sex</span>
                    <span>Sab</span>
                </div>

                <div class="calendar-grid" id="calendar-days">
                </div>
            </div>

            <script>
                function generateCalendar(year, month) {
                    const firstDay = new Date(year, month, 1);
                    const lastDay = new Date(year, month + 1, 0);
                    const startDay = firstDay.getDay();
                    const totalDays = lastDay.getDate();
                    
                    const calendarGrid = document.getElementById('calendar-days');
                    calendarGrid.innerHTML = '';
                    
                    for (let i = 0; i < startDay; i++) {
                        const emptyCell = document.createElement('button');
                        emptyCell.className = 'date-btn disabled';
                        calendarGrid.appendChild(emptyCell);
                    }
                    
                    for (let day = 1; day <= totalDays; day++) {
                        const dateCell = document.createElement('button');
                        dateCell.className = 'date-btn';
                        dateCell.textContent = day;
                        
                        dateCell.addEventListener('click', function() {
                            document.querySelectorAll('.date-btn').forEach(btn => 
                                btn.classList.remove('selected'));
                            this.classList.add('selected');
                        });
                        
                        calendarGrid.appendChild(dateCell);
                    }
                }

                document.querySelector('.month-select').addEventListener('change', function() {
                    const year = document.querySelector('.year-select').value;
                    generateCalendar(parseInt(year), parseInt(this.value));
                });

                document.querySelector('.year-select').addEventListener('change', function() {
                    const month = document.querySelector('.month-select').value;
                    generateCalendar(parseInt(this.value), parseInt(month));
                });

                generateCalendar(2024, 11); 
            </script>
        </section>

        <section class="time-slots">
            <h3>Horários disponíveis</h3>
            <div class="time-grid">
                <button class="time-btn">8:00</button>
                <button class="time-btn available">9:00</button>
                <button class="time-btn">11:00</button>
                <button class="time-btn">12:00</button>
                <button class="time-btn">14:00</button>
                <button class="time-btn">15:00</button>
                <button class="time-btn">17:00</button>
                <button class="time-btn">18:00</button>
                <button class="time-btn">19:00</button>
            </div>
        </section>

        <button class="schedule-btn">Marcar consulta</button>

        <footer>
            <nav>
                <div class="navegacao">
                    <a href="#"><img src="src/home.png" alt=""></a>
                </div>
                <div class="navegacao">
                    <a href="#"><img src="src/dog.png" alt=""></a>
                </div>
                <div class="navegacao">
                    <a href="#"><img src="src/calendar.png" alt=""></a>
                </div>
            </nav>
        </footer>
    </div>
</body>
</html>
